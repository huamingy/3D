import {scene, renderer,camera } from './light.js'
import { OrbitControls } from '../jsm/controls/OrbitControls.js'
import{labelRenderer} from"./tempeture.js"

function render() {
  renderer.render(scene, camera) //执行渲染操作
   labelRenderer.render(scene, camera) //CSS3D渲染

  // composer1.render()
  requestAnimationFrame(render) //请求再次执行渲染函数render，渲染下一帧
}
render()

var controls = new OrbitControls(camera, renderer.domElement)
// 上下旋转范围
controls.minPolarAngle = 0
// controls.maxPolarAngle = Math.PI/2;
controls.maxPolarAngle = Math.PI / 2

// 左右旋转范围
controls.minAzimuthAngle = -Math.PI * (80 / 180)
controls.maxAzimuthAngle = Math.PI * (100 / 180)

//缩放控制
// controls.minZoom = 0.9;
//  controls.maxZoom = 1.7;
// onresize 事件会在窗口被调整大小时发生
window.onresize = function () {
  camera.aspect = window.innerWidth / window.innerHeight
  camera.updateProjectionMatrix()

  renderer.setSize(window.innerWidth, window.innerHeight)
}
export{renderer,controls}